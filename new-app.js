const ejucations = [
  {
    id: 1,
    title: "یافتن و انتخاب ایده کسب و کار",
    shortDescription:
      "این دوره آموزشی با کمک مثال های ایرانی ایده مناسب را یاد میگیرند لورم ایپسون",
    longDescription:
      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.",
    time: "1:22:33",
    like: 22,
    price: 22,
    src: "https://static.roocket.ir/images/cover/2023/9/11/y9FqWCKK1GOwlGcBLLfdwIBao8m3yJLCnPQZojeG.png",
    level: "در حال ضبط",
  },
  {
    id: 2,
    title: "یافتن و انتخاب ایده کسب و کار",
    shortDescription:
      "این دوره آموزشی با کمک مثال های ایرانی ایده مناسب را یاد میگیرند لورم ایپسون",
    longDescription:
      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.",
    time: "1:22:33",
    like: 22,
    price: undefined,
    src: "https://static.roocket.ir/images/cover/2023/9/11/y9FqWCKK1GOwlGcBLLfdwIBao8m3yJLCnPQZojeG.png",
    level: "در حال ضبط",
  },
  {
    id: 3,
    title: "یافتن و انتخاب ایده کسب و کار",
    shortDescription:
      "این دوره آموزشی با کمک مثال های ایرانی ایده مناسب را یاد میگیرند لورم ایپسون",
    longDescription:
      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.",
    time: "1:22:33",
    like: 22,
    price: undefined,
    src: "https://static.roocket.ir/images/cover/2023/9/11/y9FqWCKK1GOwlGcBLLfdwIBao8m3yJLCnPQZojeG.png",
    level: "در حال ضبط",
  },
  {
    id: 4,
    title: "یافتن و انتخاب ایده کسب و کار",
    shortDescription:
      "این دوره آموزشی با کمک مثال های ایرانی ایده مناسب را یاد میگیرند لورم ایپسون",
    longDescription:
      "Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos libero laudantium assumenda asperiores quis voluptatibus earum, accusantium magni ullam sapiente a nisi explicabo recusandae illum quo temporibus, in consequuntur. Delectus.",
    time: "1:22:33",
    like: 22,
    price: undefined,
    src: "https://static.roocket.ir/images/cover/2023/9/11/y9FqWCKK1GOwlGcBLLfdwIBao8m3yJLCnPQZojeG.png",
    level: "در حال ضبط",
  },
];

const openNavBtn = document.getElementById("hamMenu");
const closeNavBtn = document.getElementById("closeBtn");
const navMenu = document.getElementById("navMenu");
const bgMenu = document.getElementById("backdrop");
const menuItems = document.querySelectorAll(".menuItem");
const courseSection = document.getElementById("courseSection");
const closeBtnPupup= document.getElementById('closeBtnPupup')
const loginPupupElement= document.getElementById('loginPopup')
const signinBtn= document.getElementById('signinBtn')
const loginBtn= document.getElementById('loginBtn')
const closeLoginBtn= document.getElementById('closeBTnLogin')
const signBTnInForn= document.getElementById('sign-in-btn-in-form')
const loginBTnInForm= document.getElementById('log-in-btn-in-form')
const signInItems=document.querySelectorAll('.sign-in')
const logInItems=document.querySelectorAll('.log-in')
const textError=document.getElementById('textError')

displayCourses(ejucations);
const likesBtn = document.querySelectorAll(".likeBtn");
const infBtn=document.querySelectorAll('.informationBtn')
const popupElement=document.getElementById('popupElement')


// navbtn listener
openNavBtn.addEventListener("click", function () {
  navMenu.classList.add("translate-x-0");
  navMenu.classList.remove("translate-x-full");
  bgMenu.classList.remove("hidden");
});

// close nav btn
closeNavBtn.addEventListener("click", function () {
  navMenu.classList.add("translate-x-full");
  navMenu.classList.remove("translate-x-0");
  bgMenu.classList.add("hidden");
});

bgMenu.addEventListener("click", function () {
  navMenu.classList.add("translate-x-full");
  bgMenu.classList.add("hidden");
});

// visible submenu of each item when hover
menuItems.forEach(function (item) {
  // for click in menu item
  item.addEventListener("mouseover", function () {
    const subMenu = item.querySelector(".subMenu");
    subMenu.classList.remove("hidden");
    subMenu.addEventListener("click", function () {
      subMenu.classList.add("hidden");
    });
  });
  item.addEventListener("mouseout", function () {
    const subMenu = item.querySelector(".subMenu");
    subMenu.classList.add("hidden");
  });
  //
});

// section courses

function displayCourses(courses) {
  const items = courses
    .map(function (item) {
      return ` 
      
      <!--item ${item.id}-->
      <div class="bg-white px-5 rounded-lg grid grid-cols-1 gap-y-3 md:mx-0 md:min-w-[24%] ">
  <!-- pic -->
  <div class="-mt-20 overflow-hidden rounded-lg">
      <img src="${item.src}"
          class="rounded-lg hover:transform hover:scale-110 transition duration-700" alt="">
  </div>
  <!-- text items -->
  <div class="flex flex-row-reverse items-center text-sm text-red-500">
      <i class="fa-solid fa-circle"></i>
      <p class="mr-3">${item.level}</p>
  </div>

  <h4 class="font-bold text-xl text-gray-700">${item.title}</h4>

  <p class="text-gray-500">${item.shortDescription}
  </p>

  <div class="flex justify-between items-center flex-row-reverse">

      <!-- right part -->
      <div class="flex flex-row-reverse items-center">
          <div
              class="flex gap-x-1 bg-gray-400 text-gray-600 px-3 py-1 rounded-md items-center text-sm bg-opacity-50 ml-2">
              <i class="fa-regular fa-clock"></i>
              <span>${item.time}</span>
          </div>
          <div
              class="likeBtn flex gap-x-1 bg-red-400 text-red-600 px-3 py-1 rounded-md items-center text-sm bg-opacity-50 ml-2 hover:cursor-pointer	">
              <i class="fa-regular fa-heart"></i>
              <span data-id=${item.id} class="likeNumber">${item.like} like</span>
          </div>
      </div>

      <!-- left part -->
      <div class="text-xl font-bold text-blue-600">
      ${
        !item.price
          ? "رایگان"
          : `<div class="flex gap-x-1 flex-row-reverse">
      <span>${item.price} </span>
      <span> تومان</span>
    </div>`
      }
      </div>

  </div>
  <!-- button -->
  <div data-elmnt=${item.id} class="informationBtn py-3 mx-auto ">
      <button class="flex justify-center items-center text-blue-700">
              <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 4 8"
               >
                  <path
                      d="M3.99859 0.791523V7.22152C3.99859 7.61152 3.57859 7.85152 3.24859 7.65152L2.14859 7.01152C-0.721406 5.36152 -0.721406 2.64152 2.14859 0.991523L3.24859 0.351523C3.57859 0.161523 3.99859 0.401523 3.99859 0.791523Z"
                      fill="#292D32" />
              </svg>
              <span class="ml-3 text-xl font-bold">مشاهده اطلاعات دوره</span>
      </button>
  </div>
</div>
<!-- end item ${item.id} -->`;
    })
    .join("");
  courseSection.innerHTML = items;
}

// count likes
likesBtn.forEach(function (like) {
  like.addEventListener("click", function () {
  let likeNumber=like.lastChild.innerHTML
  let number=likeNumber.replace(/[^0-9]/g, "")
// const idElement= +e.target.dataset.id
// const elementOut=ejucations.find(function(item){
//   return item.id==idElement
number++
console.log(likeNumber)
})

// displayCourses(ejucations)
});


// information btn pop up 

infBtn.forEach(function(item){
  item.addEventListener('click',function(e){
    const elementId= e.currentTarget.dataset.elmnt
    popupElement.classList.remove('hidden')
    popupElement.classList.add('flex')
    const text= ejucations.find(function(item){
return item.id==elementId

    })
    const textElement=document.getElementById('textElement')
    textElement.innerHTML=text.longDescription
})


// pupup close btn for information
closeBtnPupup.addEventListener('click',function(){
    popupElement.classList.add('hidden')
    popupElement.classList.remove('flex')
  })
})


// login in pupup
loginBtn.addEventListener("click",function(){
  loginPupupElement.classList.remove('hidden')
  loginPupupElement.classList.add('flex')
  signInItems.forEach(function(item){
    item.classList.add('hidden')
  })
  logInItems.forEach(function(item){
    item.classList.remove('hidden')
  })
})


// log in and sign in close btn
closeLoginBtn.addEventListener("click",function(){
  loginPupupElement.classList.add('hidden')
  loginPupupElement.classList.remove('flex')
  textError.innerHTML=""
})


// sign in btn
signinBtn.addEventListener('click',function(){
  loginPupupElement.classList.remove('hidden')
  loginPupupElement.classList.add('flex')
  signInItems.forEach(function(item){
    item.classList.remove('hidden')
  })
  logInItems.forEach(function(item){
    item.classList.add('hidden')
  })
})

// sign in btn in log in form
signBTnInForn.addEventListener('click',function(){
  signInItems.forEach(function(item){
    item.classList.remove('hidden')
  })
  logInItems.forEach(function(item){
    item.classList.add('hidden')
  })
  textError.innerHTML=""
})


// form error check 
function checkForm(){
  textError.innerHTML=""
  if (document.myForm.name.value=="" && !document.myForm.name.classList.contains("hidden")){ 
    textError.innerHTML += "fill name section <br>"
  }
  if (document.myForm.user.value==""){
    textError.innerHTML += " fill user input <br>"
  }
 if (document.myForm.pass.value==""){
  textError.innerHTML += "fill pass input <br>"
 }
 if (document.myForm.email.value=="" && !document.myForm.email.classList.contains("hidden"))
 { 
  textError.innerHTML += "fill email section <br>"
 }

 if(!textError.innerHTML) {

 }

}

const inputs=loginPupupElement.getElementsByTagName("input")
console.log(inputs)
inputs.forEach(function(item){
item.addEventListener('onchange',function(){
  
  checkForm()
})
})


